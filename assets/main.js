$(document).ready(function() {
	$('.menu-toggle').click(function() {
		$(this).toggleClass('opened')
		$('header nav').slideToggle(300)
	})

	$('header .icons .search, a[href*="#search"]').click(function(e) {
		e.preventDefault()

		if ($(window).width() < 1000) {
			$('header nav').hide(0)
		} 
        $('header .search-bar').fadeIn(300)
        $('header .search-bar input').focus()
	})

	$('header .search-bar .close').click(function(e) {
        $('header .search-bar').fadeOut(300)
	})

	$('.home-products-slider').slick({
		arrows: true,
        prevArrow: '<button type="button" class="slick-prev"></button>',
		nextArrow: '<button type="button" class="slick-next"></button>',
		infinite: false,
		variableWidth: true,
		slidesToShow: 1,
		mobileFirst: true,
		responsive: [
			{
				breakpoint: 1000,
				settings: {
					slidesToShow: 2,
				}
			}
		]
	})

	$('.more-products-slider').slick({
		arrows: false,
		infinite: false,
		variableWidth: true,
		slidesToShow: 1,
		mobileFirst: true,
		responsive: [
			{
				breakpoint: 1000,
				settings: {
					slidesToShow: 4
				}
			}
		]
	})

	$('.home-testimonials-slider').slick({
		arrows: false,
		dots: true,
		infinite: false,
		slidesToShow: 1
	})

	 $('.slider-for').slick({
	  slidesToShow: 1,
	  slidesToScroll: 1,
	  arrows: false,
	  fade: true,
	  asNavFor: '.slider-nav'
	})

	$('.slider-nav').slick({
	  slidesToShow: 3,
	  slidesToScroll: 1,
	  asNavFor: '.slider-for',
	  centerMode: true,
	  focusOnSelect: true,
		variableWidth: true,
		prevArrow: '<button type="button" class="slick-prev"></button>',
		nextArrow: '<button type="button" class="slick-next"></button>',
	})

	var pdpImages = $('.pdp .slider-for .slide')
	if (pdpImages.length > 0 && pdpImages.length < 4) {
		$('.pdp .slider-nav .slick-track').addClass('centered')
	}

	$('.pdp .number .increase').click(function() {
		var input = $(this).siblings('input[type="number"]')
		var value = input.val()
		value++
		var formattedNumber = value > 9 ? value : '0' + value
		input.val(formattedNumber)
	})

	$('.pdp .number .decrease').click(function() {
		var input = $(this).siblings('input[type="number"]')
		var value = input.val()
		if (value > 1) {
			value--
			var formattedNumber = value > 9 ? value : '0' + value
			input.val(formattedNumber)
		}
	})
    
    $('.product-card .product').click(function(e) {
      e.preventDefault()
      if ($(window).width() < 1000) {
          $('.product-card .overlay').fadeOut(200)
          $(this).siblings('.overlay').fadeIn(200)
      }
    })
    
    $(document).click( function(e){
      if ($(window).width() < 1000 && $(e.target).closest('.product-card').length == 0 ) {
        $(this).find('.overlay').fadeOut(200)
      }
    });
    
    $('.product-card').hover(function() {
      if ($(window).width() >= 1000) {
        $(this).find('.overlay').fadeIn(200)
      }
    }, function() {
      if ($(window).width() >= 1000) {
        $(this).find('.overlay').fadeOut(200)
      }
    })
})
